import{Q as g}from"./QuestionsMulti-ByxaHUJA.js";import{d,g as h,s as b,c as S,F as D,r as A,a as _,e as v,o as p,h as y}from"./index-DHvzi6t0.js";import{u as q}from"./answers-CJDsqKQx.js";import{u as P}from"./property-B8R59fnn.js";const f={現金:{processor:"cash",sections:{"現金/活期存款":{storePath:"cash",mapping:{帳戶名稱:"accountName",金額:{field:"amount",type:"number"},利率:{field:"interestRate",type:"number"}}},定期存款:{storePath:"deposits",mapping:{名稱:"name",金額:{field:"amount",type:"number"},利率:{field:"interestRate",type:"number"}}}}},不動產:{processor:"property",sections:{住宅:{storePath:"residential",mapping:{名稱:"name",估值:{field:"value",type:"number"}}},"投資/商業不動產":{storePath:"commercial",mapping:{名稱:"name",估值:{field:"value",type:"number"}}}}},金融投資:{processor:"investment",sections:{"股票／債券／基金":{storePath:"accounts",mapping:{帳戶名稱:"accountName",帳戶現值:{field:"currentValue",type:"number"}}}}}},I=d("generalAsset",{state:()=>({assets:{}}),actions:{updateAsset(e,t){this.assets[e]=t},clearAsset(e){delete this.assets[e]}},getters:{getAsset:e=>t=>e.assets[t]}}),w=d("cash",{state:()=>({cash:[{accountName:"",amount:0,interestRate:0}],deposits:[[]]}),actions:{updateData(e){this.cash=e.cash||[],this.deposits=e.deposits||[]},clearData(){this.cash=[],this.deposits=[]}},getters:{totalCash:e=>e.cash.reduce((t,s)=>t+s.amount,0),totalDeposits:e=>e.deposits.reduce((t,s)=>t+s.amount,0),totalAmount:e=>e.cash.reduce((t,s)=>t+s.amount,0)+e.deposits.reduce((t,s)=>t+s.amount,0)},persist:!0}),V=d("investment",{state:()=>({accounts:[]}),actions:{updateData(e){this.accounts=e.accounts||[]},clearData(){this.accounts=[]}},getters:{totalInvestment:e=>e.accounts.reduce((t,s)=>t+s.currentValue,0),accountCount:e=>e.accounts.length}}),E={cash:w,property:P,investment:V};function C(e){const{name:t,data:s}=e;if(f[t]){const a=f[t],n=E[a.processor](),o=B(s,a);n.updateData(o)}else{const a=I(),n=N(s,t);a.updateAsset(t,n)}}function B(e,t){const s={};return e.sections.forEach(a=>{const n=t.sections[a.title];if(n){const o=a.sets.map(m=>{const r={};return m.forEach(c=>{const i=n.mapping[c.question];i&&(typeof i=="string"?r[i]=c.answer:r[i.field]=i.type==="number"?parseFloat(c.answer)||0:c.answer)}),r});s[n.storePath]=o}}),s}function N(e,t){return{name:t,sections:e.sections.map(s=>({title:s.title,items:s.sets.map(a=>a.reduce((n,o)=>(n[o.question]=o.answer,n),{}))}))}}const R={class:"main_area"},T=_("div",{class:"pageTitle"},"C 資產",-1),k=v('<div class="row justify-content-center align-items-center"><br><br><br><div class="col-md-3"><a class="btn btn-outline-secondary" href="/questionsBasic">上一頁</a></div><div class="col-md-3"><a class="btn btn-primary" href="/questionsDebt">下一頁</a></div></div>',1),U={__name:"QuestionsPropertyView",setup(e){const t=[["帳戶名稱","string"],["金額","number","元"],["利率","number","%"]],s=[["名稱","string"],["金額","number","元"],["利率","number","%"]],a=[["名稱","string"],["估值","number","元"]],n=[["名稱","string"],["現值","number","元"]],m=h([{id:1,name:"現金",questionsData:[{title:"現金/活期存款",itemSet:[t]},{title:"定期存款",itemSet:[s]}]},{id:2,name:"不動產",questionsData:[{title:"住宅",itemSet:[a,a]},{title:"投資/商業不動產",itemSet:[a]}]},{id:3,name:"物品",questionsData:[{title:"車輛",itemSet:[a]},{title:"其他物品",itemSet:[a]}]},{id:4,name:"退休計畫",questionsData:[{title:"退休金計畫",itemSet:[n]}]},{id:5,name:"金融投資",questionsData:[{title:"股票／債券／基金",itemSet:[[["帳戶名稱","string"],["帳戶現值","number","元"]]]}]},{id:6,name:"其他投資",questionsData:[{title:"私募股權／風險投資",itemSet:[n]}]},{id:7,name:"無形資產",questionsData:[{title:"專利／版權／商標",itemSet:[n]}]},{id:8,name:"保險",questionsData:[{title:"保單價值",itemSet:[n]}]}]);h([{id:1,name:"現金",email:"mail",questionsData:[{title:"現金/活期存款"},{title:"定期存款"},{title:"現金"},{title:"職業"},{title:"學歷"},{title:"居住地區"},{title:"婚姻狀況"}]}]);const r=q(),c=l=>{r.updateAnswers(l),C(l)},{allAnswers:i}=b(r);return console.log("allAnswers",i.value),(l,F)=>(p(),S("main",R,[T,(p(!0),S(D,null,A(m,u=>(p(),y(g,{key:u.id,name:u.name,email:u.email,"questions-data":u.questionsData,"onUpdate:answers":c},null,8,["name","email","questions-data"]))),128)),k]))}};export{U as default};
