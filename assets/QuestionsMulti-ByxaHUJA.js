import{_ as q,g as D,l as C,o,c,a as s,t as u,F as m,r as p,w as N,v as V,j as b,k as B,p as Q,f as A}from"./index-DHvzi6t0.js";const f=n=>(Q("data-v-9a77a5a9"),n=n(),A(),n),F={class:"container"},J={class:"row mb-4"},M={class:"col-md-12"},O={class:"text-center"},T={class:"card"},U={class:"card-header"},$={class:"subquestion-title mb-0"},j={class:"card-body"},E={class:"subitem-header"},L={class:"badge bg-secondary"},z={class:"row align-items-center"},G={class:"col-md-4"},H={class:"form-label"},K={class:"col-md-8"},P=["id","onUpdate:modelValue"],R={key:0,class:"text-end mt-2"},W=["onClick"],X=f(()=>s("i",{class:"fas fa-trash-alt"},null,-1)),Y={class:"card-footer text-center"},Z=["onClick"],x=f(()=>s("i",{class:"fas fa-plus"},null,-1)),I={__name:"QuestionsMulti",props:{name:{type:String,default:""},email:{type:String,default:""},questionsData:{type:Array}},emits:["update:answers"],setup(n,{emit:S}){const g=S,a=n,d=D({name:a.name,sections:a.questionsData.map(t=>({title:t.title,sets:t.itemSet.map(e=>e.map(i=>({question:i[0],answer:""})))}))});C(d,t=>{console.log(t),g("update:answers",{name:a.name,data:JSON.parse(JSON.stringify(t))})},{deep:!0});const w=t=>{console.log(t);const e=a.questionsData[t].itemSet[0];a.questionsData[t].itemSet.push(e);const i=e.map(l=>({question:l[0],answer:""}));d.sections[t].sets.push(i)},y=(t,e)=>{e!==0&&(a.questionsData[t].itemSet.splice(e,1),d.sections[t].sets.splice(e,1))};return console.log("name",a.name),console.log("email",a.email),(t,e)=>(o(),c("div",F,[s("div",J,[s("div",M,[s("h2",O,u(n.name),1)])]),(o(!0),c(m,null,p(n.questionsData,(i,l)=>(o(),c("div",{class:"question-section mb-4",key:i.title},[s("div",T,[s("div",U,[s("h4",$,u(i.title),1)]),s("div",j,[(o(!0),c(m,null,p(i.itemSet,(h,r)=>(o(),c("div",{class:"subitem-container mb-3",key:r},[s("div",E,[s("span",L,"項目 "+u(r+1),1)]),(o(!0),c(m,null,p(h,(v,_)=>(o(),c("div",{class:"question-item p-2",key:_},[s("div",z,[s("div",G,[s("label",H,u(v[0]),1)]),s("div",K,[N(s("input",{type:"text",class:"form-control",id:"question-"+l+"-"+r+"-"+_,"onUpdate:modelValue":k=>d.sections[l].sets[r][_].answer=k},null,8,P),[[V,d.sections[l].sets[r][_].answer]])])])]))),128)),r!==0?(o(),c("div",R,[s("button",{class:"btn btn-outline-danger",onClick:v=>y(l,r)},[X,b(" 刪除 ")],8,W)])):B("",!0)]))),128))]),s("div",Y,[s("button",{class:"btn btn-primary",onClick:h=>w(l)},[x,b(" 新增項目 ")],8,Z)])])]))),128))]))}},ts=q(I,[["__scopeId","data-v-9a77a5a9"]]);export{ts as Q};
